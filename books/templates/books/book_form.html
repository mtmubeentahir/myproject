<!-- books/templates/books/book_form.html -->
<h1>{{ book.id|default:"New" }} Book</h1>
<form method="post">
    {% csrf_token %}
    <label for="title">Title:</label>
    <input type="text" name="title" value="{{ book.title|default:'' }}" required><br>

    <label for="author">Author:</label>
    <select name="author" required>
        <option value="">Select an author</option>
        {% for author in authors %}
            <option value="{{ author.id }}" {% if book.author.id == author.id %}selected{% endif %}>{{ author.name }}</option>
        {% endfor %}
    </select><br>

    <label for="description">Description:</label>
    <textarea name="description" required>{{ book.description|default:'' }}</textarea><br>

    <label for="published_date">Published Date:</label>
    <input type="date" name="published_date" value="{{ book.published_date|default:'' }}" required><br>

    <button type="submit">Save</button>
</form>
<a href="{% url 'book_list' %}">Back to List</a>
